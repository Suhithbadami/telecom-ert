<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Recharge Confirmation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
    }

    .confirmation {
      border: 2px solid #3498db;
      padding: 20px;
      max-width: 400px;
      margin: auto;
      background-color: #f9f9f9;
    }

    .confirmation h2 {
      color: #3498db;
    }

    .confirmation p {
      margin-bottom: 10px;
    }

    .form-container {
      max-width: 400px;
      margin: auto;
      padding: 20px;
      background-color: #f9f9f9;
      border: 2px solid #3498db;
    }

    .form-container label {
      display: block;
      text-align: left;
      margin-bottom: 5px;
    }

    .form-container input {
      width: calc(100% - 8px);
      padding: 6px;
      margin-bottom: 10px;
    }

    .form-container button {
      padding: 10px 20px;
      background-color: #3498db;
      border: none;
      color: #fff;
      cursor: pointer;
      margin-right: 8px;
    }

    .payment-options {
      margin-top: 20px;
    }

    .card-details {
      display: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="confirmation">
    <h2>Recharge </h2>
    <label for="selectedPackage"> Package Details:</label>
    <input type="text" id="selectedPackage" th:value="${user.pkg}">
 
    <h2>Provide Mobile Number</h2>
    <label for="mobileNumber">Mobile Number:</label>
    <input type="text" id="mobileNumber" placeholder="Enter your mobile number">
    <br><br><br>
    <button onclick="showPaymentOptions()">Proceed to Payment</button>
  </div>

  <div class="payment-options" id="paymentOptions" style="display: none;">
    <h2>Select Payment Option</h2>
    <button onclick="selectPaymentOption('UPI')">UPI</button>
    <button onclick="selectPaymentOption('Internet Banking')">Internet Banking</button>
    <button onclick="selectPaymentOption('Card Payment')">Card Payment</button>
  </div>

  <div id="upiOptions" class="payment-options" style="display: none;">
    <h2>Select UPI App</h2>
    <button onclick="redirectUPIApp('Google Pay')">Google Pay (GPay)</button>
    <button onclick="redirectUPIApp('PhonePe')">PhonePe</button>
    <button onclick="redirectUPIApp('Paytm')">Paytm</button>
  </div>

  <div id="internetBankingOptions" class="payment-options" style="display: none;">
    <h2>Select Bank</h2>
    <button onclick="redirectInternetBanking('Axis Bank')">Axis Bank</button>
    <button onclick="redirectInternetBanking('ICICI Bank')">ICICI Bank</button>
    <button onclick="redirectInternetBanking('HDFC Bank')">HDFC Bank</button>
    <button onclick="redirectInternetBanking('SBI Bank')">SBI Bank</button>
  </div>

  <div id="cardPayment" class="payment-options card-details" style="display: none;">
    <h2>Card Payment Details</h2>
    <label for="cardNumber">Card Number (16 digits):</label>
    <input type="text" id="cardNumber" placeholder="Enter your card number"><br>

    <label for="bankName">Bank Name:</label>
    <input type="text" id="bankName" placeholder="Enter your bank name"><br>

    <label for="expiryDate">Expiry Date (MM/YYYY):</label>
    <input type="text" id="expiryDate" placeholder="MM/YYYY"><br>

    <label for="cvv">CVV (3 digits):</label>
    <input type="text" id="cvv" placeholder="Enter CVV"><br>

    <button onclick="generateOTP()">Pay Now</button>
  </div>

  <div id="otpSection" class="payment-options card-details" style="display: none;">
    <h2>Enter OTP</h2>
    <label for="otp">OTP (4 digits):</label>
    <input type="text" id="otp" placeholder="Enter OTP"><br>

    <button onclick="verifyOTP()">Done</button>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const selectedPackage = urlParams.get('package');
    document.getElementById('selectedPackage').innerText = selectedPackage;

    function showPaymentOptions() {
      document.getElementById('paymentOptions').style.display = 'block';
    }

    function selectPaymentOption(option) {
      document.getElementById('upiOptions').style.display = 'none';
      document.getElementById('internetBankingOptions').style.display = 'none';
      document.getElementById('cardPayment').style.display = 'none';
      document.getElementById('otpSection').style.display = 'none';

      if (option === 'UPI') {
        document.getElementById('upiOptions').style.display = 'block';
      } else if (option === 'Internet Banking') {
        document.getElementById('internetBankingOptions').style.display = 'block';
      } else if (option === 'Card Payment') {
        document.getElementById('cardPayment').style.display = 'block';
      }
    }

    function redirectUPIApp(app) {
      alert(`Redirecting to ${app} UPI app for ${selectedPackage} recharge.`);
      // Here you can redirect to the respective UPI app based on the selected option and package
      // Replace the window.location.href with the actual redirection URL
      // window.location.href = `/redirect-to-upi-app?package=${selectedPackage}&app=${app}`;
    }

    function redirectInternetBanking(bank) {
      alert(`Redirecting to ${bank} Internet Banking for ${selectedPackage} recharge.`);
      // Here you can redirect to the respective bank's Internet Banking based on the selected option and package
      // Replace the window.location.href with the actual redirection URL
      // window.location.href = `/redirect-to-internet-banking?package=${selectedPackage}&bank=${bank}`;
    }

    function generateOTP() {
      alert('OTP generated and sent to your registered mobile number.');
      document.getElementById('otpSection').style.display = 'block';
    }

    function verifyOTP() {
      alert('Payment successful! Recharge completed.');
    }
  </script>
</body>
</html>
